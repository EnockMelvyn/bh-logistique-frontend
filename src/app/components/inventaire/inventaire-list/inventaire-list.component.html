<div class="card">
    <div class="card-header">
        <h1>Liste des inventaires</h1>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-12">
                <button class="btn btn-primary float-right" (click)="goToFormInventaire({})"> Enregistrer un nouvel inventaire</button>
            </div>
        </div>
        <table mat-table [dataSource]="dataSource" class="table" *ngIf="dataSource">
            
            <ng-container matColumnDef="dateInventaire">
                <th mat-header-cell *matHeaderCellDef> Date de l'inventaire </th>
                <td mat-cell *matCellDef="let inventaire"> {{ inventaire.dateInventaire | date :'dd/MM/YYYY'}} </td>
            </ng-container>
            <ng-container matColumnDef="libelle">
                <th mat-header-cell *matHeaderCellDef> Libellé </th>
                <td mat-cell *matCellDef="let inventaire"> {{ inventaire.libelle }} </td>
            </ng-container>
            <ng-container matColumnDef="valeurEcart">
                <th mat-header-cell *matHeaderCellDef> Ecart constaté</th>
                <td mat-cell *matCellDef="let inventaire"> {{ inventaire.valeurEcart }} </td>
            </ng-container>
            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef> Statut </th>
                <td mat-cell *matCellDef="let inventaire"> {{ inventaire.status?.libelleStatut }} </td>
            </ng-container>
            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef>  </th>
                <td mat-cell *matCellDef="let inventaire"> 
                    <a (click)="goToFormInventaire(inventaire)"> <button class="btn btn-primary">Détails </button></a>    
                </td>
            </ng-container>
           
            <tr class="thead-light" mat-header-row *matHeaderRowDef="colonnes"></tr>
            <tr class="tbody" mat-row *matRowDef="let myRowData; columns: colonnes"></tr>
            <tr class="mat-row" *matNoDataRow>
                <td  *ngIf="!loading" class="mat-cell" colspan="5"> Aucune données</td>
                <td class="mat-cell " colspan="5"><mat-progress-spinner *ngIf="loading" color="primary" mode="indeterminate" > </mat-progress-spinner></td>
            </tr>
        </table>
        <mat-paginator [pageSizeOptions]="[10, 20, 50]" showFirstLastButtons aria-label="dataSource"></mat-paginator>
    </div>
</div>
